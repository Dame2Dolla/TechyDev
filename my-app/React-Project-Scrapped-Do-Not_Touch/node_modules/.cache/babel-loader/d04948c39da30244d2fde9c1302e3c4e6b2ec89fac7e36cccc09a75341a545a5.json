{"ast":null,"code":"import _slicedToArray from\"/home/patar450/Desktop/STC/Colaborative Development/Assigment/TechyDev/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./ForgotPassword.scss\";import Overlay from\"../Overlay/Overlay\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PasswordResetCard=function PasswordResetCard(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCard=_useState6[0],setShowCard=_useState6[1];var handleEmailChange=function handleEmailChange(event){setEmail(event.target.value);};var handlePasswordReset=function handlePasswordReset(event){event.preventDefault();// Send a POST request to the PHP API to check if the user exists\nfetch(\"http://studentmind.xyz/api/usernamechecker.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:\"email=\".concat(email)}).then(function(response){return response.text();}).then(function(data){if(data===\"User exists\"){// If the user exists, send an email to the user's email address\nfetch(\"http://studentmind.xyz/api/sendemailtouser.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:\"email=\".concat(email)}).then(function(response){return response.text();}).then(function(data){setMessage(data);}).catch(function(error){return console.error(error);});}else{// If the user does not exist, show a warning message\nsetMessage(\"User does not exist.\");}}).catch(function(error){return console.error(error);});};var toggleCard=function toggleCard(event){event.preventDefault();setShowCard(!showCard);};var handleOverlayClick=function handleOverlayClick(){setShowCard(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"forgot-password\",onClick:toggleCard,children:\"Forgot your password?\"}),showCard&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Overlay,{onClick:handleOverlayClick}),/*#__PURE__*/_jsx(\"div\",{className:\"card password-reset-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Forgot your password?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePasswordReset,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Enter your email address:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",value:email,onChange:handleEmailChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",children:\"Confirm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message})]})]})})]})]});};export default PasswordResetCard;","map":{"version":3,"names":["React","useState","Overlay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PasswordResetCard","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","message","setMessage","_useState5","_useState6","showCard","setShowCard","handleEmailChange","event","target","value","handlePasswordReset","preventDefault","fetch","method","headers","body","concat","then","response","text","data","catch","error","console","toggleCard","handleOverlayClick","children","href","className","onClick","onSubmit","htmlFor","type","id","onChange"],"sources":["/home/patar450/Desktop/STC/Colaborative Development/Assigment/TechyDev/my-app/src/component/ForgotPassword/ForgotPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./ForgotPassword.scss\";\nimport Overlay from \"../Overlay/Overlay\";\n\nconst PasswordResetCard = () => {\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showCard, setShowCard] = useState(false);\n\n  const handleEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handlePasswordReset = (event) => {\n    event.preventDefault();\n\n    // Send a POST request to the PHP API to check if the user exists\n    fetch(\"http://studentmind.xyz/api/usernamechecker.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: `email=${email}`,\n    })\n      .then((response) => response.text())\n      .then((data) => {\n        if (data === \"User exists\") {\n          // If the user exists, send an email to the user's email address\n          fetch(\"http://studentmind.xyz/api/sendemailtouser.php\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body: `email=${email}`,\n          })\n            .then((response) => response.text())\n            .then((data) => {\n              setMessage(data);\n            })\n            .catch((error) => console.error(error));\n        } else {\n          // If the user does not exist, show a warning message\n          setMessage(\"User does not exist.\");\n        }\n      })\n      .catch((error) => console.error(error));\n  };\n\n  const toggleCard = (event) => {\n    event.preventDefault();\n    setShowCard(!showCard);\n  };\n\n  const handleOverlayClick = () => {\n    setShowCard(false);\n  };\n\n  return (\n    <>\n      <a href=\"/\" className=\"forgot-password\" onClick={toggleCard} >\n        Forgot your password?\n      </a>\n      {showCard && (\n        <>\n          <Overlay onClick={handleOverlayClick} />\n          <div className=\"card password-reset-card\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title\">Forgot your password?</h2>\n              <form onSubmit={handlePasswordReset}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Enter your email address:</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    value={email}\n                    onChange={handleEmailChange}\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                  Confirm\n                </button>\n                <div className=\"message\">{message}</div>\n              </form>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default PasswordResetCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}